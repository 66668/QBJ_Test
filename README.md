
# 升级5.8.5修改说明

解决5.8.4问题：

1. 文件夹同步bug修复
2. 登陆解锁bug修复
3. 修复重复下载同一个文件bug
4. 消除Action和对应反射方式
5. 微信登陆使用Rx,删除多余网络依赖
6. 升级失败，添加失败的操作
7. 只保持一个同步块在执行，其他的屏蔽，修复。

## 亮点 框架重构

1. 对mvp框架又重构了一遍：以前的5.8.0的mvp框架，各层划分不清，导致v层仍有大量数据操作，m层相同功能过于重叠，代码重复率过高，修改后，达到标准mvp框架要求。
2. m层重点重构：减少v层不必要的数据操作，逻辑操作都转移到m层；m层相同逻辑相同接口的操作合为一个m具体类，m层具体细分由功能决定，而不是activity界面决定，m层细分后，
各种调用由p层区分，p层控制m层的调用，v层控制p层，达到调用分层的目的，更好体现mvp精髓。

## 待优化 深度优化

1. 数据库操作那块下个版本可以考虑重构下。保留最新即可。
2. 解锁的代码是否有更简便的方式，待验证




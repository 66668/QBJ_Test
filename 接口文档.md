## 注册
POST /api/register

参数

1. phone 手机号
2. password 密码 
3. vcode 手机验证码

## 获取手机验证码

POST /api/verifycode

参数

1. phone 手机号
2. t 类型，注册为 register
## 登录

POST /api/login

参数
1. username 用户名(可以是手机号，邮箱，用户名) 
2. password 密码

## 获取个人详细信息

GET /api/user/profile

参数 无

## 退出

POST /api/logout

参数 无

注: 需要登录

## 修改密码

PUT /api/user/password

参数

1. oldpassword 旧密码
2. newpassword 新密码
注: 需要登录

## 修改个人信息

PUT /api/user/profile

参数

1. email 邮箱(可选)
2. username 用户名(可选)
3. phone 手机号(可选)
4. vcode 手机验证码(可选)(change)
注:需要登录， 修改邮箱会发送验证邮件，修改手机号需要发送手机验证码。


## 重发验证邮件

POST /api/user/verifyemail

参数 无

注: 需要登录

## 创建笔记

POST /api/note

参数
1. title 标题
2. content 内容
3. tags 标签(以 , 分隔)
4. folder_id 文件夹 id(可选) 
5. longitude 经度(可选) 
6. latitude 纬度(可选) 
7. address 地址(可选) 
8. radius 半径(可选)

注: 需要登录，地址位置如果传，需要全部传，文件夹 id 为这篇笔记创建在哪个文件夹下面

## 修改笔记
PUT /api/note

参数
1. note_id 笔记 id
2. folder_id 文件夹 id(可选) 
3. title 标题(可选)
4. content 内容(可选)
5. tags 标签(可选) 
6. create_time 创建时间(可选)

注: 需要登录，传 folder_id 表示修改笔记所属文件夹，创建时间可修改。

## 获取笔记

GET /api/note

参数

1. note_id 笔记 id(可选) 
2. pagesize 每页大小
3. pagenum 页码
4. sortord 排序(create_at, update_at)

注: 需要登录，传 note_id 表示获取单篇笔记。传 pagenum 和 pagesize 表示分页获取笔记 列表。sortord 为笔记排序方式

## 删除笔记到回收站

DELETE /api/note

参数

1. note_id 笔记 id
 
 注: 需要登录
 
## 恢复回收站的笔记

PUT /api/note/trash

参数
1. note_id 
2. folder_id

注: 需要登录

## 获取回收站笔记列表

GET /api/note/trash
 参数
1. pagesize 
2. pagenum

注: 需要登录

## 从回收站删除笔记

DELETE /api/note/trash

参数

1. note_id

注: 需要登录

## 获取标签列表
GET /api/tags

参数
1. tag_id 标签 id(可选) 
2. pagenum 页码(可选) 
3. pagesize 每页大小(可选) 
4. sortord 排序方式

注: 需要登录，传 tag_id 表示分页获取此标签下的笔记，获取所有标签不需要传分页参数

## 创建标签
POST /api/tags
参数

1. name 名字 注: 需要登录

## 修改标签
PUT /api/tags

参数
1. name 名字
2. tag_id 标签 id
 
注: 需要登录

## 删除标签

DELETE /api/tags

参数
1. tag_id 标签 id

注: 需要登录，删除标签会把所有属于此标签的笔记标签清除，不会删除笔记。

## 获取文件夹
GET /api/folders

参数
1. folder_id 文件夹 id

  注: 需要登录，不传为获取所有根目录文件夹，传 folder_id 为获取此文件夹下的所有文件夹， 不分页。
  
## 创建文件夹

POST /api/folders

参数
1. pid 父文件夹 id 
2. name 文件夹名

注: 需要登录。最多可为 5 级目录

## 修改文件夹

PUT /api/folders

参数
1. folder_id
2. name 注: 需要登录

## 删除文件夹
DELETE /api/folders

参数
1. folder_id 文件夹 id

注: 需要登录，删除文件夹会把属于此文件夹的所有笔记文件夹信息删除，不会删除笔记，文件夹只可一级一级删除。

## 设置默认文件夹

PUT /api/folders/default

参数

1. folder_id 文件夹 id

注: 需要登录，设置笔记的默认文件夹。

## 移动文件夹

POST /api/folders/move

 参数
 
1. folder_id 文件夹 id 
2. parent_id 目录文件夹 id

注: 需要登录，文件夹只可一级一级移动，有子文件夹则不能移动。

## 获取文件夹下的笔记列表

GET /api/folders/note

参数
1. folder_id 文件夹 id
2. pagesize 每页大小
3. pagenum 页码
4. sortord 排序值(create_at, update_at)

 注: 需要登录
 
## APP 更新

GET /api/app/upgrade 
参数
无

注: 返回相应的 app 升级信息

## 上传附件
POST /api/attachment

参数

1. body 里面的文件字段为 file

注: 需要登录

## 下载附件
GET /attachment/(id)

参数 无

注: 需要登录。

 附件的处理和轻笔记之前的处理文件相同，先上传附件，然后将附件信息写到笔记内容中，后 台为自动判断有没有附件并将附件对应到笔记上。
 
## 邮件找回密码，发送邮件验证码
 
POST /api/verifycode/email
 
 参数:
  1. email
2. vtype (register, change, forgot)

## 第三方登陆
 一共两个接口，一个登录，一个绑定，所有逻辑都在客户端做，服务端公做记录。 绑定
 
### 绑定
POST /api/login/bind
参数

1. btype (2 微博，3qq) bid (第三方 id)
2. name (第三方昵称，没有传空) access_token refresh_token
3. stamp (时间戳)
4. phone (轻笔记的手机号)
5. sign (签名)

接口需要做签名，具体方法为, 按参数名排序，组成待加密串，最后加上字符串 qingbiji， 然后做 md5

access_token={0}&bid={1}&btype={2}&name={3}&phone={4}&refresh_token= {5}&stamp={6}qingbiji

### 登录
POST /api/login/third 
参数 
1. btype (2微博，3qq)
2. bid (第三方的 id) 
3. stamp (时间戳) 
4. sign (签名)

签名方法和上面一样，没有传空，不能不传。
